
## å‰è¨€


å¤§å®¶å¥½ï¼Œè¿™é‡Œæ˜¯ç™½æ³½ï¼Œæ‹–æ›´äº†ä¸€æ®µæ—¶é—´ï¼ŒæŠ±æ­‰ã€‚åœ¨ DouTok2\.0 å¯ä»¥åˆæ­¥å…è®¸å¤§å®¶æ¥å…¥å¼€å‘ä¹‹åï¼Œè¿™ç¯‡æ–‡ç« æ‰å¾—ä»¥å‡ºç‚‰ã€‚



> DouTokï¼šä¸€ä¸ªå¼€æºçš„ web ç«¯çš„çŸ­è§†é¢‘åº”ç”¨ï¼Œé‡‡ç”¨å¾®æœåŠ¡æ¶æ„ï¼ŒåŒ…å«å‰åç«¯ï¼ˆReact \& Goï¼‰ï¼ŒDouTok æ­£å¤„åœ¨å¼€å‘åˆæœŸï¼Œç›®å‰å·²ç»å®Œæˆäº† åŸºç¡€çš„ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€ç”¨æˆ·ä¿¡æ¯ç®¡ç†ã€è§†é¢‘ä¸Šä¼ ã€è§†é¢‘åˆ—è¡¨å±•ç¤ºã€è¯„è®ºã€ç‚¹èµã€æ”¶è—ç­‰åŠŸèƒ½ã€‚


![image-20241030091521273](https://baize-blog-images.oss-cn-shanghai.aliyuncs.com/img/image-20241030091521273.png)


ä¸ºä»€ä¹ˆè¦æœ‰ V2 ç‰ˆæœ¬ï¼š


ä¾‹å¦‚ï¼š**DouTok** æ˜¯å­—èŠ‚è·³åŠ¨é’è®­è¥çš„å‚èµ›ä½œå“ï¼Œä½† **DouTok1\.0** ç‰ˆæœ¬çš„å¾®æœåŠ¡åˆ’åˆ†ä¸å¤Ÿåˆç†ï¼Œæ‹†çš„è¿‡äºé›¶ç¢ï¼Œä¹Ÿè®¸çœ‹èµ·æ¥å¾ˆâ€œå¾®æœåŠ¡â€ï¼Œä½†ä¸å®é™…å·¥ä½œç”Ÿäº§ç¯å¢ƒä¸Šçš„æœåŠ¡åˆ’åˆ†å´èƒŒé“è€Œé©°ï¼Œå¾®æœåŠ¡çš„åˆ’åˆ†ä¸åº”è¿‡åˆ†è¿½æ±‚â€œå¾®â€ï¼Œè€Œæ˜¯é€‚åº”é¡¹ç›®å‘å±•ï¼Œåœ¨å®Œå–„åŸºæœ¬è®¾è®¡çš„å‰æä¸‹è¿›è¡Œæ‹†åˆ†ã€‚


è®© **DouTok** ç»§ç»­æ‰©å¼ çš„å¦ä¸€ä¸ªå¡ç‚¹æ˜¯å…¶æœ¬èº«æ²¡æœ‰å‰ç«¯ï¼Œåªèƒ½ä¾èµ–é’è®­è¥ä¸­æä¾›çš„â€œæŠ–å£°â€APPã€‚ä¸ºäº†è®© **DouTok** é¡ºåˆ©æ‰©å¼ ï¼Œæ‰€ä»¥æˆ‘ä»¬å†³å®šå¼€å‘ä¸€ä¸ªå…¨æ–°çš„V2ç‰ˆæœ¬ã€‚åœ¨V2ç‰ˆæœ¬ä¸­ï¼Œ**DouTok** å‡å°‘äº†æœåŠ¡çš„åˆ’åˆ†ï¼Œå¢åŠ äº†**å‰ç«¯é¡¹ç›®**ï¼Œè™½ç„¶ç°é˜¶æ®µä¾ç„¶ä¸å¤Ÿå®Œæ•´ï¼Œä½†æ˜¯å·²ç»å…·å¤‡äº†ç»§ç»­æ‰©å¼ çš„åœŸå£¤ã€‚


å¯¹å‚ä¸è¿‡ **DouTok1\.0** ç»´æŠ¤çš„æ‰€æœ‰åŒå­¦è¡¨ç¤ºæ„Ÿè°¢ï¼


![image-20241029233433568](https://baize-blog-images.oss-cn-shanghai.aliyuncs.com/img/image-20241029233433568.png)


## åç»­è§„åˆ’


* å‰ç«¯ï¼š


	+ åŠŸèƒ½ï¼šé¡µé¢å¸ƒå±€åè°ƒï¼Œä»¥åŠäº‹ä»¶è·³è½¬å®Œå–„ç­‰
	+ æ€§èƒ½ï¼šReact ç»„ä»¶ä¼˜åŒ–ä¸æç‚¼ç­‰
* åç«¯ï¼š


	+ åŠŸèƒ½ï¼šèŠå¤©ç³»ç»Ÿï¼ˆIMï¼‰ã€è§†é¢‘æ¨èã€æ¶ˆæ¯æ¨é€ã€ç§ä¿¡ç­‰åŠŸèƒ½
	+ æ€§èƒ½ï¼šå¯è§‚æµ‹æ€§ã€å‹åŠ›æµ‹è¯•ï¼Œç¼“å­˜ or æ¶ˆæ¯é˜Ÿåˆ—æ¥å…¥ç­‰


## å‚ä¸è´¡çŒ®


æ— è®ºä½ æ˜¯**å‰ç«¯å¼€å‘è€…**è¿˜æ˜¯**åç«¯å¼€å‘è€…**ï¼Œéƒ½å¯ä»¥å‚ä¸åˆ° **DouTok** çš„å¼€å‘ä¸­æ¥ï¼Œæˆ‘ä»¬æ¬¢è¿ä½ çš„åŠ å…¥ï¼


ğŸŒŸ **ä»“åº“åœ°å€**ï¼š[https://github.com/cloudzenith/DouTok](https://github.com)


ğŸ”¥ å¦‚ä½•å‚ä¸è´¡çŒ®ï¼š[https://cloudzenith.github.io/DouTok/community](https://github.com)


ğŸ§ QQç¾¤: 622383022


ğŸ“º Bç«™è®²è§£ï¼š[ç™½æ³½talk](https://github.com)


ğŸ”‘ å¼€æºå­¦ä¹ ä»“åº“ï¼š[go\-learning](https://github.com)


## å¿«é€Ÿå¼€å§‹


æœ¬æ•™ç¨‹å°†å¸¦é¢†ä½ ä»é›¶å¼€å§‹ï¼Œå¾ªåºæ¸è¿›æ­å»ºå¹¶å¯åŠ¨ `DouTok` é¡¹ç›®ï¼Œè‹¥è¯»è€…å·²å…·å¤‡ç›¸å…³çŸ¥è¯†ï¼Œå¯é€‰æ‹©æ€§é˜…è¯»ã€‚


æ‰€æœ‰ä¿¡æ¯å‚è€ƒæ–‡æ¡£ç«™ï¼ˆéå¸¸è¯¦ç»†ï¼‰ï¼š [https://cloudzenith.github.io/DouTok/docs/quickstart/](https://github.com)


## é¡¹ç›®æ¶æ„


![image-20241029222657307](https://baize-blog-images.oss-cn-shanghai.aliyuncs.com/img/image-20241029222657307.png)


## ä¸»è¦ç›®å½•


è¿™æ˜¯ä¸€ä¸ªå·¨ä»“é¡¹ç›®ï¼Œæ‰€æœ‰çš„æœåŠ¡éƒ½åœ¨è¿™ä¸ªä»“åº“ä¸­ï¼Œç›®å½•ç»“æ„å¦‚ä¸‹ï¼š


* backend: åç«¯æœåŠ¡
* frontend: å‰ç«¯æœåŠ¡
* test: æµ‹è¯•
* deploy: éƒ¨ç½²
* docs\-site: æ–‡æ¡£ç«™
* env: ä¾èµ–ç¯å¢ƒéƒ¨ç½²
* sql: æ•°æ®åº“è„šæœ¬


## é¡µé¢å±•ç¤º


* ä¸Šä¼ è§†é¢‘


![image-20241030000520491](https://baize-blog-images.oss-cn-shanghai.aliyuncs.com/img/image-20241030000520491.png)


* è§†é¢‘


![image-20241029235126428](https://baize-blog-images.oss-cn-shanghai.aliyuncs.com/img/image-20241029235126428.png)


* è¯„è®º \& ç‚¹èµ \& å…³æ³¨


![image-20241029235154405](https://baize-blog-images.oss-cn-shanghai.aliyuncs.com/img/image-20241029235154405.png)


## ç¯å¢ƒå‡†å¤‡


1. Golang 1\.22\+



> * [https://golang.org/dl/](https://github.com)
> 	* [https://golang.google.cn/dl/](https://github.com)
2. Node 14\.17\+



> * [https://nodejs.org/en/download/](https://github.com):[wgetCloudæœºåœº](https://tabijibiyori.org)
3. React.js \+ Next.js



> * [https://reactjs.org/](https://github.com)
> 	* [https://nextjscn.org/](https://github.com)
4. JetBrains GoLand/WebStorem



> * [https://www.jetbrains.com/](https://github.com)
5. VSCode



> * [https://code.visualstudio.com/](https://github.com)
6. Docker



> * [https://www.docker.com/products/docker\-desktop](https://github.com)


## å¿…è¦ç»„ä»¶é…ç½®åŠå¯åŠ¨


* Consul: é€šè¿‡`backend/gopkgs/launcher`æä¾›èƒ½åŠ›ï¼Œæ‰€æœ‰åç«¯æœåŠ¡å‡è‡ªåŠ¨æ³¨å†Œåˆ°Consulä¸­
* Redis: ç¼“å­˜
* MySQL: æŒä¹…åŒ–å­˜å‚¨
* MinIO: å¯¹è±¡å­˜å‚¨
* RocketMQ: æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆä¸æ˜¯å¿…é¡»ï¼‰


1. æ‰¾åˆ°`env/basic.yml`æ–‡ä»¶ï¼Œé€šè¿‡å‘½ä»¤`docker-compose -f ./env/basic.yml up -d`å¯åŠ¨Consul, Redis, MySQL, MinIO
ï¼ˆ2ã€3æ­¥ä¸æ˜¯å¿…é¡»ï¼‰
2. æ‰¾åˆ°`env/rocketmq/broker.conf`æ–‡ä»¶ï¼Œå°†`brokerIP1`ä¿®æ”¹ä¸ºæœ¬åœ°å±€åŸŸç½‘IP
3. æ‰¾åˆ°`env/rocketmq.yml`æ–‡ä»¶ï¼Œé€šè¿‡å‘½ä»¤`docker-compose -f ./env/rocketmq.yml up -d`å¯åŠ¨RocketMQ


## MySQLåº“è¡¨ç»“æ„åŒæ­¥


1. è¿›å…¥`sql`ç›®å½•
2. æ£€æŸ¥`sql/Makefile`æ–‡ä»¶ï¼Œå…¶ä¸­æ¶‰åŠçš„MySQLè¿æ¥éœ€æ³¨æ„åº”ä¸æœ¬åœ°ç¯å¢ƒä¸€è‡´
3. å®‰è£… goose å·¥å…·ï¼Œæ‰§è¡Œ`go install github.com/pressly/goose/v3/cmd/goose@latest`
4. æ‰§è¡Œ`make up`å‘½ä»¤ï¼ŒMySQLåº“è¡¨ç»“æ„ä¼šåŒæ­¥åˆ°æœ¬åœ°


## å¯åŠ¨åç«¯æœåŠ¡


### ç¼–è¯‘è¿è¡Œ


1. è¿›å…¥`backend`ç›®å½•ä¸‹é™¤`gopkgs`å¤–çš„æ‰€æœ‰æœåŠ¡ç›®å½•ï¼Œä¾æ¬¡ `go run cmd/main.go` å¯åŠ¨æœåŠ¡


### é•œåƒè¿è¡Œ


1. è¿›å…¥`backend`ç›®å½•ä¸‹é™¤`gopkgs`å¤–çš„æ‰€æœ‰æœåŠ¡ç›®å½•ï¼Œæ‰§è¡Œ`make build`ä»¥ç¼–è¯‘Dockeré•œåƒ
2. è¿›å…¥`env`ç›®å½•ï¼Œæ£€æŸ¥`configs`ä¸‹å„ä¸ªé…ç½®æ–‡ä»¶ï¼Œåº”ä¸æœ¬åœ°ç¯å¢ƒä¿æŒä¸€è‡´ï¼Œç‰¹åˆ«æ˜¯ `./baseservice/config.yaml` ä¸­ï¼Œ`minio.default.host` éœ€è¦æ”¹æˆæœ¬æœºå±€åŸŸç½‘IP
3. è¿›å…¥`env`ç›®å½•ï¼Œæ‰§è¡Œ`docker-compose -f backend.yml up -d`å¯åŠ¨æ‰€æœ‰åç«¯æœåŠ¡


## å¯åŠ¨å‰ç«¯æœåŠ¡


1. è¿›å…¥`frontend/doutok`ç›®å½•ï¼Œæ‰§è¡Œ`pnpm install`å®‰è£…ä¾èµ–
2. æ‰§è¡Œ`pnpm dev`å¯åŠ¨å‰ç«¯æœåŠ¡ï¼Œé€šè¿‡ [http://localhost:23000](https://github.com) è®¿é—®


## å°ç»“


æŒç»­æ›´æ–°ä¸­ï¼Œæ¬¢è¿å…³æ³¨ã€‚


